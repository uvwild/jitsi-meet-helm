controller:
  image:
    tag: "v0.44.0"
    allowPrivilegeEscalation: true
  # Configures the ports the nginx-controller listens on
  containerPort:
    http: 80
    https: 443

    tcp: 4443
#    udp: 10000
  # Will add custom configuration options to Nginx https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/
  config:
    proxy-read-timeout: 3600
    proxy-send-timeout: 3600
    error-log-level: debug
    # ssl_buffer_size: 16k # default

 scope:
    enabled: false
    namespace: "jitsi"   # defaults to .Release.Namespace

  ## Allows customization of the configmap / nginx-configmap namespace
  ##
  configMapNamespace: "jitsi"   # defaults to .Release.Namespace

  ## Allows customization of the tcp-services-configmap
  ##
  tcp:
    configMapNamespace: "jitsi"   # defaults to .Release.Namespace
    ## Annotations to be added to the tcp config configmap
    annotations: {}

  ## Allows customization of the udp-services-configmap
  ##
  udp:
    configMapNamespace: "jitsi"   # defaults to .Release.Namespace
    ## Annotations to be added to the udp config configmap
    annotations: {}


  service:
    # Must be either "None" or "ClientIP" if set. Kubernetes will default to "None".
    # Ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
    # sessionAffinity: ""
    sessionAffinity: ClientIP


## Default 404 backend
##
defaultBackend:
  ##
  enabled: true

## Optional array of imagePullSecrets containing private registry credentials
## Ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/

imagePullSecrets: 
  - name: regcred

# TCP service key:value pairs
# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/tcp
## This is complaining because JVB ony opens the ports after a session is setup
tcp:
  4443: "jitsi/jitsi-otc-jvb-0:4443"

#  8080: "default/example-tcp-svc:9000"

# UDP service key:value pairs
# Ref: https://github.com/kubernetes/contrib/tree/master/ingress/controllers/nginx/examples/udp
## 

############### ITS COMPLAINING ABOUT either tcp or udp not both !!!
udp: {}
#  10000: "jitsi/jitsi-otc-jvb-0:10000"
#  53: "kube-system/kube-dns:53"
#  10000: "jitsi/jitsi-otc-jvb-0:10000"
